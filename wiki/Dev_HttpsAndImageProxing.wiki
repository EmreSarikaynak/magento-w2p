#summary One-sentence summary of this page.

= Introduction =

Web-to-print content such as previews, thumbnails for previews, stock images thumbnails and user images thumbnails is served by ZetaPrints and is added on M. pages by direct links. When M. page is opened in _HTTPS_ web-to-print content will be marked as _insecure_ in browser. So the web-to-print extension proxies this content throw M. to make secure all content on the page. Also it proxies all HTTP caching headers for images from ZetaPrints.

= Details =

== Links to controllers ==
Links to web-to-print specific controllers are generated by `getUrl()` function from _[http://code.google.com/p/magento-w2p/source/browse/trunk/app/code/local/ZetaPrints/WebToPrint/Helper/Data.php app/code/local/ZetaPrints/WebToPrint/Helper/Data.php]_ file. This function checks scheme in request object to decide which one use in generated link.

== Links to images ==
Links to different web-to-print images are generated by functions specific for each type of image. Functions check scheme in request object and return link to controllers for proxing images then scheme is _HTTPS_ or direct link to ZetaPrints in case plain _HTTP_. See _get_preview_url()_, _get_thumbnail_url()_, _get_photo_thumbnail_url()_ functions from _[http://code.google.com/p/magento-w2p/source/browse/trunk/app/code/local/ZetaPrints/WebToPrint/Helper/Data.php app/code/local/ZetaPrints/WebToPrint/Helper/Data.php]_ file.

== User images uploading ==
ZetaPrints is forced to download user image in _plain HTTP_ from M., even the user image was uploaded via _HTTPS_.