#labels Phase-Requirements
= Interaction overview =

This extension does the following:
  * maintains Magento products in sync with ZetaPrints products
  * registers new users in ZetaPrints
  * grants / denies user access to products in ZetaPrints
  * requests final order generation from ZetaPrints
  * downloads order details from ZetaPrints
  * updates order status in ZetaPrints

We need a Use Case diagram here.

= Personalization form =
A product linked to a ZP template (where? how?) shows a personalization form on the product details page. See instructions on integrating the form into a theme for [one step proc] and [2 step proc] (insert links).

[http://www.zetaprints.com/magento-docs/create-personalization-form.png]
[http://www.zetaprints.com/magento-docs/create-personalization-form-2step-theme.png]

= Products =

== Dynamic products overview ==
By default a product in Magento has no personalization capabilities. A product can be assigned to a template (where? how?). Such products can be personalized.
Additional product properties (list?) required for personalization are stored in [???].
Products can be created by the extension using [profile? what is it called? link to the wiki page about it]. 

== High-level overview of a product personalizing process ==

[http://www.zetaprints.com/magento-docs/generate-preview.png]

= Users =
ZetaPrints does not require full user registration to use the services. It only needs a user ID/password combo for data caching and resource allocation. The extension creates a user in ZetaPrints (with generated user ID and password) for every user in M. that uses web-to-print features. See http://www.zetaprints.com/help/user-registration-api

[http://www.zetaprints.com/magento-docs/create-new-zp-user-or-load-existing-one.png]

Lifetime of a user session on ZP can be months or even years. The extension stores ZP credentials separate from M. user sessions to restore them later, independently from the M. user session. See a page about UserManagement.

== User access control ==
This extension instructs ZP to grant/deny users access to certain catalogs via API (http://www.zetaprints.com/help/user-access-api/)

= Orders =
Order information is synced between ZetaPrints and M. through this extension.
Zetaprints is only concerned with the image and file generation part of the order. It produces the final product M. sells to the user.

[http://www.zetaprints.com/magento-docs/order-generation.png]

== Shop owner order management ==
Shop owners have printer accounts with ZP and can login to ZP directly to manage orders. They do not see user details, pricing, payments or any other info held within M.
Normally, orders would be managed through M. Faulty orders may need functions available only within ZP.

== User order management ==
Users registered via M cannot login to ZP and cannot access their order history there.
They need to use M for that.